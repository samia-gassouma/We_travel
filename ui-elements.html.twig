{% extends 'base.html.twig' %}
{% block title %}Contact{% endblock %}
{% block content %}

<body>
    <main>
        <section class="layout-pt-md layout-pb-md">
            <div class="container">
                <div class="row y-gap-30">
                    <div class=""><!--  col-lg-6 -->
                        <div class="text-22 fw-500">Tabs</div>

                        <div class="tabs -underline-2 pt-60 lg:pt-40 sm:pt-30 js-tabs">
                            <div class="tabs__controls row x-gap-40 y-gap-10 lg:x-gap-20 js-tabs-controls">

                                <div class="col-auto">
                                    <button
                                        class="tabs__button text-light-1 fw-500 px-5 pb-5 lg:pb-0 js-tabs-button is-tab-el-active"
                                        data-tab-target=".-tab-item-1">{{title}}</button>
                                </div>

                                <div class="col-auto">
                                    <button class="tabs__button text-light-1 fw-500 px-5 pb-5 lg:pb-0 js-tabs-button "
                                        data-tab-target=".-tab-item-2">Réclamations</button>
                                </div>



                            </div>

                            <div class="tabs__content pt-20 js-tabs-content">

                                <div class="tabs__pane -tab-item-1 is-tab-el-active">
                                    {{ form_start(form, {'attr': {'class': 'layout-pt-md layout-pb-md'}, 'novalidate':
                                    'novalidate'}) }}
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="text-22 fw-500">{{title}}</div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="fw-500 mb-10">{{ form_label(form.date) }}</div>
                                                {{ form_widget(form.date, {'attr': {'class': 'form-input', 'type':
                                                'datetime-local'}}) }}
                                                <div style="color:red;">
                                                    {{ form_errors(form.date) }}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <label class="text-16 lh-1 fw-500 text-dark-1 mb-10">{{
                                                    form_label(form.type)
                                                    }}</label>
                                                <div class="select js-select js-liveSearch" data-select-value="">
                                                    {{ form_widget(form.type, {'attr': {'class': 'custom-dropdown'}}) }}
                                                    <i class="select__icon" data-feather="chevron-down"></i>
                                                </div>
                                                <div style="color:red;">
                                                    {{ form_errors(form.type) }}
                                                </div>
                                            </div>
                                        </div>


                                        <div class="col-lg-6">

                                            {{ form_label(form.reservation, null, {'label_attr': {'style': 'display:
                                            none;'}}) }}
                                            {{ form_widget(form.reservation, {'attr': {'style': 'display: none;'}}) }}
                                            {{ form_errors(form.reservation, {'attr': {'class': 'form-error'}}) }}
                                        </div>



                                        <div class="col-lg-6">
                                            {{ form_label(form.paiement, null, {'label_attr': {'style': 'display:
                                            none;'}}) }}
                                            {{ form_widget(form.paiement, {'attr': {'style': 'display: none;'}}) }}
                                            {{ form_errors(form.paiement, {'attr': {'class': 'form-error'}}) }}
                                        </div>



                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="fw-500 mb-10">{{ form_label(form.description) }}</div>
                                                <div class="form-input">
                                                    {{ form_widget(form.description) }}
                                                </div>
                                                <div style="color:red;">
                                                    {{ form_errors(form.description) }}
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-6">
                                                {{ form_row(form.recaptcha) }} 
                                                <div style="color:red;">
                                                    {{ form_errors(form.recaptcha) }} 
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-auto">
                                                {% if (title=='Formulaire') %}
                                                {{ form_widget(form.send, {'attr': {'class': 'button px-24 h-50 -dark-1
                                                bg-blue-1 text-white icon-arrow-top-right', 'style': 'margin-top:
                                                50px;'}}) }}
                                                {% else %}
                                                {{ form_widget(form.save, {'attr': {'class': 'button px-24 h-50 -dark-1
                                                bg-blue-1 text-white icon-arrow-top-right', 'style': 'margin-top:
                                                50px;'}}) }}
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>

                                    {{ form_end(form, {'render_rest': false}) }}
                                    
                                </div>


                                <div class="tabs__pane -tab-item-2 ">
                                    <div class="container">
                                        <div class="row y-gap-30">
                                            <div class="overflow-scroll scroll-bar-1">
                                                <div class="col-lg-6">
                                                    <div class="text-22 fw-500">Table</div>

                                                    <table class="table-4 w-1/1 mt-30">
                                                        <thead class="bg-light-2">
                                                            <tr>
                                                                <th>Id</th>
                                                                <th>Date</th>
                                                                <th>Type</th>
                                                                <th>reservation_id</th>
                                                                <th>paiement_id</th>
                                                                <th>Description</th>
                                                                <th>Statut</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            {% for r in list %}

                                                            <tr class="message-row">
                                                                <td>{{ r.id }} </td>
                                                                <td>{{ r.date | date('d,F,Y') }} </td>
                                                                <td>{{ r.type }} </td>
                                                                <td>{{ r.reservation }} </td>
                                                                <td>{{ r.paiement }} </td>
                                                                <td>{{ r.description }} </td>
                                                                <td> {% if ( r.Statut == 'en attente') %}
                                                                    <span style="white-space: nowrap;"
                                                                        class="rounded-100 py-4 px-10 text-center text-14 fw-500 no-wrap bg-yellow-4 text-yellow-3">{{
                                                                        r.Statut }} </span>
                                                                    {% else %} {% if ( r.Statut == "en cours") %}
                                                                    <span
                                                                        class="rounded-100 py-4 px-10 text-center text-14 fw-500 no-wrap bg-blue-1-05 text-blue-1">{{
                                                                        r.Statut }}</span>
                                                                    {% else %} {% if ( r.Statut == "résolu") %}
                                                                    <span
                                                                        class="rounded-100 py-4 px-10 text-center text-14 fw-500 no-wrap bg-green-1 text-green-2">{{
                                                                        r.Statut }}</span>

                                                                    {% endif %}{% endif %}{% endif %}
                                                                </td>
                                                                <td>

                                                                    <button
                                                                        onclick="window.location.href='{{path('app_reclamation_edit',{'id':id,'id_r':r.id})}}';"
                                                                        class="button -md -blue-1 bg-blue-1-05 text-blue-1 ">Modifier</button>
                                                                    <button
                                                                        onclick="window.location.href='{{path('app_reclamation_remove',{'id':id,'id_r':r.id})}}';"
                                                                        class="button -md -blue-1 bg-blue-1-05 text-blue-1">Supprimer</button>
                                                                    {% if(r.statut =='résolu') %}
                                                                    <button style="white-space: nowrap;"
                                                                        onclick="window.location.href='{{path('app_voir_reponse',{'id_r':r.id})}}';"
                                                                        class="button -md -blue-1 bg-blue-1-05 text-blue-1">Voir
                                                                        réponse</button>
                                                                    {% endif %}


                                                                </td>

                                                            </tr>
                                                            {% endfor %}

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="pt-30">
                                            <div class="row justify-between">
                                                <div class="col-auto">
                                                    <button class="button -blue-1 size-40 rounded-full border-light">
                                                        <i class="icon-chevron-left text-12"></i>
                                                    </button>
                                                </div>

                                                <div class="col-auto">
                                                    <div class="row x-gap-20 y-gap-20 items-center">
{# {{ knp_pagination_render(list) }} #}
                                                        <div class="col-auto">

                                                            <div class="size-40 flex-center rounded-full">1</div>

                                                        </div>

                                                        <div class="col-auto">

                                                            <div
                                                                class="size-40 flex-center rounded-full bg-dark-1 text-white">
                                                                2
                                                            </div>

                                                        </div>

                                                        <div class="col-auto">

                                                            <div class="size-40 flex-center rounded-full">3</div>

                                                        </div>

                                                        <div class="col-auto">

                                                            <div class="size-40 flex-center rounded-full bg-light-2">4
                                                            </div>

                                                        </div>

                                                        <div class="col-auto">

                                                            <div class="size-40 flex-center rounded-full">5</div>

                                                        </div>

                                                        <div class="col-auto">

                                                            <div class="size-40 flex-center rounded-full">...</div>

                                                        </div>

                                                        <div class="col-auto">

                                                            <div class="size-40 flex-center rounded-full">20</div>

                                                        </div>

                                                    </div>
                                                </div>

                                                <div class="col-auto">
                                                    <button class="button -blue-1 size-40 rounded-full border-light">
                                                        <i class="icon-chevron-right text-12"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>



                            </div>

                        </div>
                    </div>
                </div>
            </div>


        </section>

    </main>



    <!-- JavaScript -->
    <!-- JavaScript -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAz77U5XQuEME6TpftaMdX0bBelQxXRlM"></script>
    <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>

    <script src="{{ asset('js/vendors.js') }}"></script>
    <script src="{{ asset('js/main.js') }}"></script>

    <script>

        document.addEventListener('DOMContentLoaded', function () {
            var choiceField = document.querySelector('.custom-dropdown');
            var dynamicField1 = document.querySelector('.dynamic-field1');
            var dynamicField2 = document.querySelector('.dynamic-field2');
            choiceField.addEventListener('change', function () {
                if (choiceField.value === 'reservation') {
                    dynamicField1.style.display = 'block';
                    dynamicField2.style.display = 'none';
                    // dynamicFieldLabel1.style.display = 'block';
                }
                else if (choiceField.value === 'paiement') {
                    dynamicField2.style.display = 'block';
                    dynamicField1.style.display = 'none';
                } else {
                    dynamicField1.style.display = 'none';
                    dynamicField2.style.display = 'none';
                    dynamicFieldLabel1.style.display = 'none';
                    dynamicFieldLabel2.style.display = 'none';
                }
            });
        });
    </script>
</body>

</html>
{% endblock %}